---
stepsCompleted: [1, 2, 3, 4, 5, 6]
inputDocuments:
  - _bmad-output/brainstorming/brainstorming-session-2026-02-10.md
date: 2026-02-11
author: boss
workflowStatus: completed
completedAt: 2026-02-11
---

# Product Brief: bmad-test2

<!-- Content will be appended sequentially through collaborative workflow steps -->

## Executive Summary

Family Reward 是一款面向家庭的儿童行为管理与愿望兑换平台，旨在解决传统口头管理方式导致的亲子信任危机和情绪传染问题。通过量化日常行为、游戏化积分系统和透明公平的愿望兑换机制，帮助家长从"情绪化控制"走向"规则化共治"，为孩子创造稳定、可预期的成长环境，重建亲子信任关系。

产品核心解决三大痛点：
1. 口头承诺的随意性导致家长"不可信"，孩子学会讨好或情绪化应对
2. 传统记录方式（笔记本、徽章墙）存在物理局限，缺乏实时性和公平性
3. 家长育儿压力大，缺乏科学的行为管理工具

Family Reward 通过数字化、量化的方式，将"好行为"转化为可视化的积分积累，让愿望兑换有明确标准、可追溯、可预期，从而形成"行为改进→积分积累→愿望兑换→正向激励"的良性循环，最终改善亲子关系，培养孩子延迟满足和初步的理财意识。

---

## Core Vision

### Problem Statement

现代家庭在儿童行为管理中面临一个根本矛盾：家长希望通过奖励机制引导孩子养成好习惯，但传统的口头管理方式存在严重缺陷：

1. **情绪化决策**：家长因自身情绪（与孩子无关的负面情绪、临时冲突）随意取消或变更承诺，导致孩子无法建立稳定的预期
2. **不可追溯**：口头承诺缺乏记录，家长遗忘、标准不一，孩子感到不公平
3. **信任危机**：孩子逐渐认为家长"不可揣测、不可预期"，学会通过"讨好"或"哭闹"来达成目的，形成不健康的互动模式
4. **负向循环**：坏情绪在亲子间传染，破坏家庭和谐氛围

即使家长意识到问题，尝试使用笔记本记录或徽章墙等传统方法，也面临物理局限（遗忘、损坏、作弊）和缺乏实时性、参与感的问题。

### Problem Impact

**对儿童的影响：**
- 情绪管理能力差，学会用情绪化方式应对问题
- 失去对家长的信任感，亲子关系疏离
- 形成"讨好型人格"或通过"哭闹"获取关注
- 缺乏延迟满足能力，即时满足需求强烈

**对家长的影响：**
- 育儿压力大，行为管理依赖情绪和即时反应
- 事后后悔但伤害已造成，道歉无法弥补
- 缺乏科学工具，想改善亲子关系但无从下手

**对家庭的影响：**
- 亲子冲突频繁，家庭氛围紧张
- 好行为得不到正向强化，坏习惯持续存在
- 家长和孩子都陷入负面情绪循环

### Why Existing Solutions Fall Short

**口头管理：**
- ❌ 依赖记忆，容易遗忘或标准不一
- ❌ 情绪化决策，随意变更承诺
- ❌ 缺乏透明度，孩子无法看到进度
- ❌ 不可追溯，无法复盘和优化

**笔记本/徽章墙：**
- ❌ 物理局限：徽章胶水干掉掉落、笔记本丢失
- ❌ 容易被篡改或作弊（孩子自己贴徽章）
- ❌ 缺乏实时性，无法即时反馈
- ❌ 统计困难，难以看到长期趋势
- ❌ 单一家庭内部，缺少客观性和仪式感

**现有数字工具：**
- ❌ 过于复杂，增加家长负担
- ❌ 缺乏游戏化激励，孩子参与度低
- ❌ 没有完整的"行为-积分-愿望"闭环
- ❌ 忽视亲子关系的深层需求

### Proposed Solution

Family Reward 提供一个**量化、透明、公平**的儿童行为管理与愿望兑换平台：

**核心机制：**

1. **任务计划系统**
   - 家长预设任务类型、积分值、完成标准
   - 系统自动生成每日/周期性任务
   - 消除"临时起意"的任务分配

2. **积分结算系统**
   - 好行为完成获得积分，坏行为扣除积分
   - 家长审批后才结算，避免情绪化决策
   - 积分变动线性叠加、不回退、可为负数（培养责任意识）

3. **愿望兑换系统**
   - 孩子/家长共同创建愿望（物品+互动体验）
   - 明确的积分门槛，进度条可视化
   - 积分足够即可兑换，规则清晰可预期

4. **游戏化激励**
   - 徽章系统：记录成就，永久保存
   - Combo激励：连续完成获得额外奖励
   - 积分银行：活期/定期存款，学习理财
   - 道具卡：应对特殊情况，增加灵活性

5. **完整闭环**
   - 行为改进 → 积分积累 → 愿望兑换 → 正向激励 → 习惯养成

**关键设计原则：**
- **家长完全控制**：家长拥有审批权、设置权，但需遵循预设规则
- **透明公平**：所有记录可追溯，标准一致，消除"不可预期"
- **稳定情绪环境**：通过规则替代情绪，给孩子安全感
- **参与感**：孩子能看到进度、参与愿望设定，增强主动性

### Key Differentiators

1. **从"情绪控制"到"规则共治"**
   - 不同于传统管理方式依赖家长情绪，Family Reward 用预设规则替代即兴决策
   - 家长即使情绪不好，也需遵循既定标准，保护孩子免受情绪波动伤害

2. **量化 + 可视化 = 可预期**
   - 将抽象的"表现好"转化为具体积分
   - 进度条实时显示，孩子清楚知道距离愿望还有多远
   - 消除"家长记不记得""标准变没变"的不确定性

3. **完整的正向激励闭环**
   - 不只是记录，而是"行为-积分-愿望-满足"的完整链路
   - 徽章永久记录（曾经达成），Combo体现坚持（当前状态）
   - 积分银行引入延迟满足和理财概念

4. **亲子关系优先**
   - 所有设计围绕"改善亲子关系"这一核心目标
   - 通过公平透明重建信任，通过规则减少冲突
   - 家长从"管理者"变成"规则制定者和观察者"

5. **适应多孩家庭**
   - 支持家庭内多角色（主家长、次家长、多个孩子）
   - 每个孩子独立积分账户，公平可比
   - 缓解多孩家长的时间和精力压力

6. **可演进的技术架构**
   - 初期简单（SQLite + 轮询），后期可升级（Redis + WebSocket）
   - PWA + 小程序双端覆盖不同使用场景
   - 支持从个人使用到模板共享的扩展

---

**为什么是现在？**
- 数字原住民一代（家长）需要数字化育儿工具
- 育儿焦虑普遍存在，科学工具需求强烈
- 游戏化教育理念被广泛接受
- 延迟满足能力培养受到重视

---

## Target Users

### Primary Users

#### 1. 职场家长（主要操作者）

**角色定义：** 家庭中的主要家长，通常是父母双方中承担更多育儿责任的一方，或单亲家长

**典型画像：**
- **年龄：** 30-45岁
- **职业：** 全职工作，工作节奏快，时间碎片化
- **家庭结构：** 双职工家庭或单亲家庭
- **技术接受度：** 高，熟悉移动应用和数字化工具
- **育儿压力：** 高，希望在有限时间内高效管理孩子行为

**使用场景：**
- **早上（7:00-8:00）：** 送孩子上学路上，口头提醒孩子当日任务（不打开app）
  - "今天记得刷牙哦，已经连续5天了，再坚持2天就有combo奖励！"
  - "你的乐高愿望还差30分，这周努力就能兑换了！"
- **晚上（20:00-22:00）：** 批量处理孩子的一天表现
  - 批量审批孩子完成的任务
  - 查看成长曲线和统计数据
  - 处理孩子的新愿望申请
  - 根据当天表现临时加减分
  - 规划未来任务（如放假安排）
  - 浏览管理员发布的新模板

**核心需求：**
- 高效管理：批量操作，减少重复劳动
- 数据洞察：看到孩子的成长趋势
- 灵活调整：可随时修改任务和积分规则
- 正向激励：用游戏化方式引导孩子，而非情绪化管理

**成功标准：**
- 每天花10-15分钟完成所有操作
- 孩子行为有明显改善
- 亲子关系更加和谐，冲突减少

---

#### 2. 孩子（任务执行者）

**角色定义：** 6-12岁儿童，产品的主要"游戏玩家"

**典型画像：**
- **年龄：** 一期不考虑细分，涵盖小学阶段
- **技术能力：** 能独立操作简单应用
- **动机：** 游戏化驱动，关心积分和愿望进度
- **行为特点：** 需要即时反馈，对进度条、徽章等视觉元素敏感

**使用场景：**
- **放学后（15:30-17:00）：** 主动打开app
  - **签到：** 点击签到按钮，获得每日积分
  - **查看进度：** 看自己的积分总数、愿望进度条
  - **标记完成：** 标记已完成的任务（如早上刷牙、学校表现好）
  - **录入愿望：** 添加新的愿望（想要玩具、想去游乐园等）
  - **查看combo：** 关注连续完成次数，期待额外奖励

**核心需求：**
- **可视化进度：** 清楚地看到离愿望还有多远
- **即时反馈：** 完成任务后能快速标记并获得确认
- **游戏乐趣：** 徽章、combo、等级等游戏元素带来成就感
- **自主权：** 能自己录入愿望，参与目标设定

**成功标准：**
- 每天主动使用app，无需家长催促
- 为达成愿望而主动完成任务
- 理解"努力→积分→愿望"的正向循环

---

### Secondary Users

#### 3. 次要家长（辅助操作者）

**角色定义：** 家庭中的另一位家长（如爸爸/妈妈），或监护人，辅助主要家长管理

**典型画像：**
- **权限：** 低于主要家长，主要执行确认操作
- **使用频率：** 偶尔使用，通常是在主要家长忙碌时
- **核心功能：** 临时确认孩子任务完成、查看当日情况

**使用场景：**
- 主要家长出差或加班时，代为审批孩子任务
- 晚上共同查看孩子成长情况
- 协助处理紧急的愿望兑换或加减分

**核心需求：**
- 了解当前家庭规则（不擅自修改）
- 简单快速的确认操作
- 与主要家长的数据同步

---

#### 4. 爷爷奶奶（临时参与者）- 暂不考虑一期

**角色定义：** 其他家庭成员，在特定场景下临时参与

**潜在场景：**
- 孩子放学后到家长回家前，由爷爷奶奶照看
- 爷爷奶奶可能临时确认某些简单的任务完成（如"今天确实吃了蔬菜"）

**设计考虑（未来版本）：**
- 简化界面，大字显示
- 仅保留"确认完成"功能
- 需要主要家长授权

---

### User Journey

#### 典型一天的用户旅程

**🌅 早晨时段（7:00-8:00）：口头激励期**
- **场景：** 家长送孩子上学路上
- **行为：** 家长口头提醒，孩子聆听
- **app状态：** 不打开，仅用口头交流
- **关键话术：**
  - "今天记得刷牙，已经连续5天了，再坚持2天就有combo奖励！"
  - "你的乐高愿望还差30分，这周努力就能兑换了！"
- **目的：** 在孩子心中建立预期，无需打开app即可达到激励效果

**🏫 白天时段（8:00-15:00）：静默期**
- **场景：** 孩子在学校，家长在工作
- **app状态：** 可能有通知推送（如combo即将中断提醒），但非强制打扰

**🏠 放学时段（15:30-17:00）：孩子主动使用高峰**
- **场景：** 孩子回到家，独自使用app
- **行为路径：**
  1. **签到**（点击按钮，获得积分）
  2. **查看数据**（总积分、愿望进度条、combo状态）
  3. **标记完成**（早上刷牙、学校表现好、帮助同学等）
  4. **录入愿望**（新增想要的奖励）
  5. **查看徽章**（是否有新徽章获得提醒）
- **心理活动：** 
  - "还差20分就能换那个玩具了！"
  - "已经连续7天刷牙了，不能中断！"
  - "我要记下想去游乐园的愿望..."

**🌙 晚上时段（20:00-22:00）：家长集中处理期**
- **场景：** 孩子已睡觉或准备睡觉，家长有整段时间
- **行为路径：**
  1. **查看今日概况**（签到情况、标记完成的任务数）
  2. **批量审批**（快速同意/驳回孩子标记的任务）
  3. **临时调整**（根据当天特殊表现加减分）
  4. **处理愿望**（审核孩子新录入的愿望，设置积分门槛）
  5. **数据分析**（查看成长曲线、任务完成趋势）
  6. **规划未来**（考虑放假安排、创建新任务计划）
  7. **浏览模板**（查看管理员更新的推荐模板）

**📊 周末/月末：深度规划期**
- **场景：** 家长有更多时间
- **行为：**
  - 回顾本月数据，与孩子一起总结
  - 调整下月任务计划
  - 讨论愿望清单，设定新的阶段性目标
  - 考虑是否开启新的游戏化功能（如积分银行）

---

### 用户互动关系图

```
孩子 ←→ app ←→ 主要家长
 ↕           ↕
口头交流    次要家长（辅助）
```

**核心交互模式：**
1. **孩子→app：** 标记完成、录入愿望、查看进度（主动、高频）
2. **app→孩子：** 积分变动、徽章获得、combo提醒（反馈、即时）
3. **主要家长→app：** 审批任务、调整规则、规划计划（管理、定时）
4. **主要家长→孩子：** 口头激励、规则解释、情感支持（线下、持续）
5. **次要家长→app：** 临时确认、查看数据（辅助、低频）

---

### 关键设计启示

基于用户旅程，产品设计应关注：

1. **双端体验差异：**
   - **孩子端：** 游戏化、视觉化、即时反馈、操作简单
   - **家长端：** 效率优先、批量操作、数据分析、灵活配置

2. **非对称使用频率：**
   - 孩子每天多次短时使用
   - 家长每天一次集中使用（15-20分钟）
   - 设计需适应不同的使用节奏

3. **线上线下结合：**
   - app不是全部，口头激励和情感交流同样重要
   - app提供数据支撑，让口头激励更有依据（"你已经连续5天了"）

4. **渐进式参与：**
   - 孩子从被动接受到主动使用
   - 家长从频繁操作到高效管理
   - 随着习惯养成，双方投入时间应逐渐减少

---

## Success Metrics

### User Success Metrics

#### 1. 核心行为指标

| 指标 | 定义 | 目标值 | 测量方法 |
|------|------|--------|----------|
| **任务完成率** | 儿童实际完成任务数 / 家长设置任务数 | ≥ 80% | 每日统计，周平均值 |
| **任务达成度提升** | 本周完成率 - 上周完成率 | > 0%（持续改进） | 周环比对比 |
| **愿望兑换频率** | 每月实际兑换愿望次数 | ≥ 1次/月 | 月度统计 |

#### 2. 用户参与度指标

| 指标 | 定义 | 目标值 | 测量方法 |
|------|------|--------|----------|
| **儿童主动使用天数** | 每周孩子主动打开app的天数 | ≥ 5天/周 | 登录日志统计 |
| **儿童日均使用次数** | 孩子每天打开app的平均次数 | 2-3次/天 | 会话统计 |
| **家长日均使用时间** | 家长每天使用app的总时长 | 15-30分钟/天 | 使用时长统计 |
| **家长日均操作次数** | 家长每天进行的操作数（审批、设置等） | 5-10次/天 | 行为日志统计 |

#### 3. 质量指标

| 指标 | 定义 | 目标值 | 测量方法 |
|------|------|--------|----------|
| **任务设置质量** | 家长设置任务的合理性和可执行性 | 主观评估+数据反馈 | 用户调研+完成率关联分析 |
| **愿望达成满意度** | 孩子兑换愿望后的满意度 | ≥ 4.0/5.0 | 兑换后即时评分 |

#### 4. 长期效果指标（3个月、6个月、12个月）

| 时间维度 | 指标 | 目标 |
|----------|------|------|
| **1个月后** | 习惯养成率 | 孩子形成每日使用习惯（≥5天/周） |
| **3个月后** | 行为改善度 | 任务完成率稳定≥80%，且有明显提升趋势 |
| **6个月后** | 亲子关系改善 | 家长主观评价+冲突减少频率 |
| **12个月后** | 长期留存 | 持续使用且完成率维持高位 |

---

### Business Objectives

#### 1. 商业模式

**订阅制收费模型：**
- **一期策略：** 完全免费，积累用户和数据
- **二期策略：** 按家庭规模收费
  - 计费维度：家长人数 + 儿童数量
  - 定价原则：基础家庭套餐 + 额外成员增量收费
  - 示例：
    - 基础套餐（2家长+1儿童）：¥X/月
    - 每增加1儿童：+¥Y/月
    - 每增加1家长：+¥Z/月

#### 2. 业务阶段目标

**当前阶段（一期）：用户积累期**
- **目标：** 验证产品价值，积累种子用户
- **时间：** 0-6个月
- **策略：** 完全免费，focus on 产品打磨和用户反馈

**中期阶段（二期）：商业化准备期**
- **目标：** 达到盈亏平衡点
- **时间：** 6-12个月
- **策略：** 推出付费订阅，提供增值服务

**长期阶段（三期）：规模扩张期**
- **目标：** 实现可持续盈利
- **时间：** 12个月以后
- **策略：** 优化定价策略，扩大市场覆盖

#### 3. 优先级排序

**当前优先级：**

1. **用户留存（最重要）**
   - 原因：订阅制模式的核心是长期留存
   - 目标：1个月后留存率 ≥ 60%，3个月后留存率 ≥ 40%

2. **用户增长**
   - 原因：需要一定用户基数验证商业模式
   - 目标：每月新增家庭数 ≥ X（根据资源情况设定）

3. **付费转化（未来重点）**
   - 原因：二期才开始收费，目前作为观察指标
   - 目标：免费转付费率 ≥ 15%（二期目标）

#### 4. 成本覆盖目标

**运营成本构成：**
- 服务器和基础设施
- 第三方服务费用（短信、存储等）
- 客服和支持
- 产品维护和迭代

**盈亏平衡目标：**
- 在推出付费订阅后6个月内达到盈亏平衡
- 月活跃付费用户数 × 平均客单价 ≥ 月运营成本

---

### Key Performance Indicators

#### 1. 北极星指标（North Star Metric）

**指标：** 周活跃家庭数（Weekly Active Families, WAF）

**定义：** 每周至少完成一次核心行为（孩子使用+家长审批）的家庭数

**为什么是北极星：**
- 反映产品核心价值是否被实现（孩子使用+家长参与）
- 综合体现留存和参与度
- 与商业模式强相关（活跃家庭更可能付费）

#### 2. 一级指标（Lead Indicators）

| 指标类别 | 指标名称 | 当前目标 | 二期目标 |
|----------|----------|----------|----------|
| **参与度** | 周活跃家庭数 | 持续增长 | 达到盈亏平衡点 |
| **留存** | 1个月留存率 | ≥ 60% | ≥ 70% |
| **留存** | 3个月留存率 | ≥ 40% | ≥ 50% |
| **增长** | 月新增家庭数 | 根据资源定 | 稳定增长 |

#### 3. 二级指标（Lagging Indicators）

| 指标类别 | 指标名称 | 测量频率 | 目标 |
|----------|----------|----------|------|
| **注册** | 注册家庭总数 | 周 | 持续增长 |
| **注册** | 注册转化率（访问→注册） | 周 | ≥ 20% |
| **商业化** | 付费家庭数 | 月（二期开始） | 逐步增长 |
| **商业化** | 付费转化率 | 月（二期开始） | ≥ 15% |
| **商业化** | 平均客单价（ARPU） | 月（二期开始） | 根据定价策略 |

#### 4. 用户健康度指标

**家庭健康度评分（Family Health Score）：**

综合以下维度评估每个家庭的使用健康度：

| 维度 | 权重 | 指标 |
|------|------|------|
| 孩子参与度 | 30% | 周使用天数、标记完成频率 |
| 家长参与度 | 30% | 审批及时率、设置任务质量 |
| 任务完成 | 25% | 任务完成率、达成度趋势 |
| 愿望兑换 | 15% | 兑换频率、愿望达成满意度 |

**健康度分级：**
- 🟢 健康（80-100分）：高留存潜力
- 🟡 关注（60-79分）：需要干预
- 🔴 风险（<60分）：流失风险高

---

### Metrics Dashboard Design

**实时看板指标：**

**用户成功看板：**
- 今日任务完成率
- 本周儿童活跃天数分布
- 愿望兑换队列长度
- 任务完成趋势图（近30天）

**业务健康看板：**
- 实时在线家庭数
- 今日新增注册
- 本周留存率
- 收入（二期开启）

**预警指标：**
- 连续3天未登录的家庭数
- 任务完成率低于50%的家庭数
- 待审批任务超过24小时的数量

---

### Metrics Review Cadence

**每日监控（自动化）：**
- 核心用户行为指标
- 系统稳定性指标
- 异常预警

**每周回顾（产品团队）：**
- 用户成功指标趋势
- 用户反馈汇总
- A/B测试结果

**每月复盘（管理层）：**
- 业务指标达成情况
- 商业模式验证进展
- 下月策略调整

**每季度战略review：**
- 长期目标达成情况
- 市场反馈和竞争态势
- 产品路线图调整

---

## MVP Scope

### Core Features (一期)

#### 1. 任务计划系统

**功能描述：**
- 家长创建计划任务模板（任务名称、积分值、循环规则、日期规则）
- 系统自动根据日期策略生成具体任务实例
- 支持任务的暂停、恢复、删除操作
- 任务状态管理：待完成、已完成、已取消

**核心流程：**
1. 家长设置任务模板（如"每日刷牙"、"每周整理房间"）
2. 系统根据日期策略自动为每个执行日期生成任务
3. 孩子查看并标记任务完成
4. 家长审批后结算积分

**技术要点：**
- 日期策略引擎（支持循环、排除、特定日期规则）
- 任务实例生成逻辑
- 任务状态流转控制

---

#### 2. 积分结算系统

**功能描述：**
- 任务完成后积分计算与记录
- 支持正向积分（好行为奖励）和负向积分（坏行为扣除）
- 家长审批机制（孩子标记完成后需家长确认才结算）
- 积分历史记录与查询
- 积分余额实时计算

**核心规则：**
- **线性叠加原则**：积分变动直接累加，不回退，可为负数
- **审批后置**：孩子标记完成 → 家长审批 → 积分结算
- **奖惩比例**：家庭可设置全局奖惩比例

**技术要点：**
- 积分变动原子性操作
- 积分历史表设计
- 余额实时计算优化

---

#### 3. 愿望兑换系统

**功能描述：**
- 孩子/家长共同创建愿望（物品或体验）
- 愿望分类管理（玩具、书籍、活动、陪伴等）
- 积分门槛设置与进度条可视化
- 愿望兑换流程（积分足够 → 发起兑换 → 家长确认 → 扣除积分）
- 已兑换愿望归档

**核心流程：**
1. 孩子录入愿望（如"想要乐高套装"）
2. 家长审核并设置所需积分
3. 孩子通过完成任务积累积分
4. 积分足够后发起兑换请求
5. 家长确认后扣除积分，愿望标记为已兑换

**技术要点：**
- 愿望状态机（草稿 → 审核中 → 已激活 → 已兑换）
- 进度条实时计算
- 兑换时积分校验与扣除的原子性

---

#### 4. Combo激励系统

**功能描述：**
- 连续完成任务的额外奖励机制
- 支持线性Combo（连续N次固定奖励）和阶梯Combo（连续次数越多奖励越高）
- Combo中断提醒与宽限机制
- Combo历史记录与展示

**核心规则：**
- **线性Combo**：连续完成3次奖励5分，连续完成7次奖励10分
- **阶梯Combo**：每连续完成5次，奖励递增
- **宽限机制**：中断前提醒，特殊情况下可使用宽限（道具卡功能二期实现）

**技术要点：**
- Combo计数器逻辑
- Combo规则配置表
- Combo奖励计算引擎

---

#### 5. 三端Dashboard

**5.1 孩子端（Child Dashboard）**

**核心功能：**
- 今日任务列表与状态
- 签到按钮（每日一次）
- 积分余额与愿望进度条
- 任务标记完成
- 愿望录入
- Combo状态展示
- 徽章展示（基础展示，判定逻辑可简化）

**设计重点：**
- 游戏化界面，色彩丰富
- 大按钮，易操作
- 即时反馈（动画、音效）

**5.2 家长端（Parent Dashboard）**

**核心功能：**
- 今日概况（孩子签到情况、待审批任务）
- 任务审批（批量/单个）
- 任务计划管理（创建、编辑、暂停）
- 愿望审核与设置积分门槛
- 孩子成长曲线与统计数据
- 临时加减分
- 家庭设置（奖惩比例、成员管理）

**设计重点：**
- 效率优先，批量操作
- 数据可视化（图表、趋势）
- 简洁明了，快速处理

**5.3 管理员端（Admin Dashboard）**

**核心功能：**
- 模板管理（任务模板、愿望模板、Combo规则模板）
- 家庭管理（审核、暂停、查看详情）
- 图床管理（上传、查看、删除）
- 全局数据统计
- 系统通知发送

**设计重点：**
- 管理效率
- 数据权限控制
- 批量操作支持

---

#### 6. 跨端实现

**PWA端（主端）：**
- 完整功能支持
- 离线能力（缓存关键数据）
- 推送通知（任务提醒、审批提醒）
- 响应式设计（适配手机、平板、PC）

**小程序端（辅助端）：**
- 家长端核心功能（审批、查看）
- 轻量级，快速访问
- 与PWA数据同步
- 适合家长在工作间隙快速处理

**技术实现：**
- 共享API层
- 统一认证体系
- 数据实时同步（轮询机制，预留WebSocket升级）

---

#### 7. 图床系统

**功能描述：**
- 图片上传（任务图片、愿望图片、徽章图片）
- 图片管理与展示
- 引用计数（图片被任务/愿望引用的次数）

**技术实现：**
- **开发环境：** 本地存储（./uploads目录）
- **生产环境：** 通过环境变量切换至云OSS（阿里云、腾讯云等）
- **接口设计：** 统一的上传/下载接口，底层根据环境变量选择存储方式

**环境变量配置：**
```bash
# .env.local (本地开发)
STORAGE_TYPE=local
UPLOAD_PATH=./uploads

# .env.production (生产环境)
STORAGE_TYPE=oss
OSS_ACCESS_KEY=xxx
OSS_SECRET_KEY=xxx
OSS_BUCKET=xxx
OSS_ENDPOINT=xxx
```

---

#### 8. 手机OTP登录

**功能描述：**
- 手机号注册/登录
- 短信验证码发送与验证
- 儿童PIN码登录（简化版，4位数字）
- 会话管理与Token刷新

**技术实现：**
- **开发环境：** 本地模拟（验证码固定为1111，打印到控制台）
- **生产环境：** 通过环境变量接入云短信服务（阿里云、腾讯云等）
- **Better-Auth集成：** 使用better-auth框架，配置phone插件

**环境变量配置：**
```bash
# .env.local (本地开发)
SMS_PROVIDER=mock
MOCK_SMS_CODE=1111

# .env.production (生产环境)
SMS_PROVIDER=aliyun
ALIYUN_ACCESS_KEY=xxx
ALIYUN_SECRET_KEY=xxx
ALIYUN_SMS_TEMPLATE_CODE=xxx
```

**登录流程：**
1. 用户输入手机号
2. 系统发送验证码（本地开发时打印到日志，生产环境发送真实短信）
3. 用户输入验证码
4. 验证成功，创建会话，跳转到对应角色Dashboard

---

### Out of Scope for MVP (二期)

#### 1. 积分银行

**延后原因：**
- 功能复杂度高（活期/定期、利息计算、借贷机制）
- 一期核心目标是验证"行为-积分-愿望"基础闭环
- 积分银行是增值服务，可在基础功能稳定后添加

**二期实现：**
- 存款账户管理（活期、定期）
- 利息计算与发放
- 借贷额度与还款
- 财务报表

---

#### 2. 道具卡系统

**延后原因：**
- 需要完整的卡片定义、获得、使用、过期逻辑
- 与Combo宽限机制强关联，但一期Combo可采用简化宽限
- 前端需要卡片展示和弹窗交互，工作量较大

**二期实现：**
- 9种道具卡定义（免Combo中断卡、双倍积分卡等）
- 道具卡获得机制（任务奖励、签到、购买）
- 道具卡使用逻辑
- 自动弹窗询问（Combo即将中断时提示使用道具卡）
- 道具卡库存管理

---

#### 3. 徽章自动判定系统

**MVP简化：**
- 徽章展示功能一期实现
- 徽章判定逻辑一期可简化（手动授予或基础自动判定）
- 完整的5大维度自动判定逻辑二期实现

---

#### 4. 高级数据分析

**MVP简化：**
- 基础成长曲线和统计数据
- 复杂的数据分析、AI建议、预测功能二期实现

---

#### 5. 社交功能

**MVP不包含：**
- 家庭间互动
- 排行榜
- 分享功能

---

### MVP Success Criteria

#### 1. 功能完整性

| 功能模块 | 验收标准 | 优先级 |
|----------|----------|--------|
| 任务计划系统 | 能创建计划、生成任务、标记完成、审批结算 | P0 |
| 积分结算系统 | 积分计算正确、历史记录完整、余额准确 | P0 |
| 愿望兑换系统 | 能创建愿望、设置积分、完成兑换流程 | P0 |
| Combo激励 | 连续完成计数正确、奖励计算正确 | P0 |
| 三端Dashboard | 孩子端、家长端、管理员端核心功能可用 | P0 |
| PWA+小程序 | 双端实现、数据同步、基础离线能力 | P0 |
| 图床 | 本地上传/展示、预留云OSS接口 | P1 |
| OTP登录 | 本地模拟验证、预留云短信接口 | P1 |

#### 2. 用户体验标准

**孩子端：**
- 页面加载时间 < 2秒
- 操作响应时间 < 500ms
- 界面友好，7岁儿童可独立使用

**家长端：**
- 批量审批操作流畅
- 数据统计页面加载 < 3秒
- 每日使用时间控制在15-30分钟

**整体：**
- 系统可用性 > 99%（排除计划维护时间）
- 移动端适配良好（iOS Safari、Android Chrome、微信小程序）

#### 3. 业务指标目标

**发布后1个月：**
- 注册家庭数 ≥ 50个（种子用户）
- 周活跃用户比例 ≥ 60%
- 任务完成率 ≥ 70%

**发布后3个月：**
- 注册家庭数 ≥ 200个
- 月留存率 ≥ 60%
- 任务完成率 ≥ 80%
- 用户满意度 ≥ 4.0/5.0

#### 4. 技术债务控制

- 代码测试覆盖率 ≥ 60%
- 核心功能有自动化测试
- 文档完整（API文档、部署文档）
- 预留二期扩展接口（积分银行、道具卡）

---

### Future Vision

#### 短期（6-12个月，二期）

**新增功能：**
1. **积分银行完整版**
   - 活期/定期存款
   - 利息计算与发放
   - 借贷机制

2. **道具卡系统**
   - 9种道具卡完整实现
   - 自动弹窗询问机制
   - 道具卡商店

3. **徽章系统完整版**
   - 5大维度自动判定
   - 徽章升级机制

4. **商业化启动**
   - 订阅制付费
   - 基础版/高级版功能区分

**目标：**
- 达到盈亏平衡点
- 付费转化率 ≥ 15%
- 用户规模 ≥ 1000家庭

---

#### 中期（1-2年，三期）

**平台扩展：**
1. **社交功能**
   - 家庭间互动（可选隐私设置）
   - 匿名排行榜
   - 经验分享社区

2. **AI助手**
   - 智能任务建议
   - 育儿建议
   - 数据分析洞察

3. **多平台支持**
   - iOS原生App
   - Android原生App
   - 智能手表支持

4. **B2B合作**
   - 学校/机构版本
   - 教育机构合作

**目标：**
- 用户规模 ≥ 10000家庭
- 月度经常性收入（MRR）稳定增长
- 建立品牌认知度

---

#### 长期（2-3年，愿景）

**生态构建：**
1. **开放平台**
   - 第三方开发者API
   - 插件市场
   - 自定义任务类型

2. **硬件集成**
   - 智能家居联动
   - 可穿戴设备数据接入
   - 物联网设备任务自动确认

3. **国际化**
   - 多语言支持
   - 本地化内容
   - 跨国家庭支持

4. **教育生态**
   - 与教育机构深度合作
   - 教育专家内容入驻
   - 儿童发展评估体系

**愿景目标：**
- 成为中国家庭育儿管理首选平台
- 帮助100万+家庭改善亲子关系
- 建立科学育儿新标准

---

### 技术演进路线

#### 一期架构（当前）
- **数据库：** SQLite（bun:sqlite）
- **缓存：** 无（预留Redis接口）
- **实时通信：** 轮询（预留WebSocket接口）
- **部署：** 单服务器
- **扩展性：** 垂直扩展

#### 二期演进
- **数据库：** 迁移至PostgreSQL（如用户规模需要）
- **缓存：** 引入Redis
- **实时通信：** 升级为SSE或WebSocket
- **部署：** 容器化（Docker + K8s）
- **扩展性：** 水平扩展支持

#### 三期演进
- **微服务架构：** 核心服务拆分
- **CDN：** 全球加速
- **大数据：** 用户行为分析平台
- **AI服务：** 独立的AI推理服务

